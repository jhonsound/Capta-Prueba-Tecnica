{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.214.0"},"children":{"InfrastructureStack":{"id":"InfrastructureStack","path":"InfrastructureStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"BusinessDatesApiFunction":{"id":"BusinessDatesApiFunction","path":"InfrastructureStack/BusinessDatesApiFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.214.0","metadata":[{"entry":"*","handler":"*","bundling":{"externalModules":"*"},"environment":"*","runtime":"*","code":"*"},{},{"entry":"*","handler":"*","bundling":{"externalModules":"*"},"environment":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"InfrastructureStack/BusinessDatesApiFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"InfrastructureStack/BusinessDatesApiFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"InfrastructureStack/BusinessDatesApiFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"InfrastructureStack/BusinessDatesApiFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"InfrastructureStack/BusinessDatesApiFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"InfrastructureStack/BusinessDatesApiFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/BusinessDatesApiFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"b1a082bd5cd1667e78f80a3224a512b2781cbfe5528cbb118fd2630d617724b6.zip"},"environment":{"variables":{"NODE_OPTIONS":"--enable-source-maps"}},"handler":"index.handler","role":{"Fn::GetAtt":["BusinessDatesApiFunctionServiceRoleDD07A518","Arn"]},"runtime":"nodejs22.x"}}},"LogGroup":{"id":"LogGroup","path":"InfrastructureStack/BusinessDatesApiFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.214.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/BusinessDatesApiFunction/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"BusinessDatesApiFunctionD205F642"}]]},"retentionInDays":731}}}}}}},"BusinessDatesApiEndpoint":{"id":"BusinessDatesApiEndpoint","path":"InfrastructureStack/BusinessDatesApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.LambdaRestApi","version":"2.214.0","metadata":[{"defaultIntegration":"*","handler":"*","proxy":true},{"handler":"*","proxy":true}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/BusinessDatesApiEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"BusinessDatesApiEndpoint"}}},"Deployment":{"id":"Deployment","path":"InfrastructureStack/BusinessDatesApiEndpoint/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.214.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/BusinessDatesApiEndpoint/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"BusinessDatesApiEndpoint1BEB366F"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"InfrastructureStack/BusinessDatesApiEndpoint/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.214.0","metadata":[{"deployment":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/BusinessDatesApiEndpoint/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"BusinessDatesApiEndpointDeploymentF2DAB87B2b48e30c78543db8a94fa1a9af9bd8fb"},"restApiId":{"Ref":"BusinessDatesApiEndpoint1BEB366F"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"InfrastructureStack/BusinessDatesApiEndpoint/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"Default":{"id":"Default","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.214.0","metadata":["*"]},"children":{"{proxy+}":{"id":"{proxy+}","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/{proxy+}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ProxyResource","version":"2.214.0","metadata":[{"parent":"*","defaultIntegration":"*","defaultMethodOptions":"*"},{"parent":"*"},{"addMethod":["*"]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/{proxy+}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BusinessDatesApiEndpoint1BEB366F","RootResourceId"]},"pathPart":"{proxy+}","restApiId":{"Ref":"BusinessDatesApiEndpoint1BEB366F"}}}},"ANY":{"id":"ANY","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/{proxy+}/ANY","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..{proxy+}":{"id":"ApiPermission.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..{proxy+}","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/{proxy+}/ANY/ApiPermission.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..{proxy+}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BusinessDatesApiFunctionD205F642","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"BusinessDatesApiEndpoint1BEB366F"},"/",{"Ref":"BusinessDatesApiEndpointDeploymentStageprod22A582CC"},"/*/*"]]}}}},"ApiPermission.Test.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..{proxy+}":{"id":"ApiPermission.Test.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..{proxy+}","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/{proxy+}/ANY/ApiPermission.Test.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..{proxy+}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BusinessDatesApiFunctionD205F642","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"BusinessDatesApiEndpoint1BEB366F"},"/test-invoke-stage/*/*"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/{proxy+}/ANY/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"ANY","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["BusinessDatesApiFunctionD205F642","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BusinessDatesApiEndpointproxyBA3DBA7D"},"restApiId":{"Ref":"BusinessDatesApiEndpoint1BEB366F"}}}}}}}},"ANY":{"id":"ANY","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/ANY","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..":{"id":"ApiPermission.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/ANY/ApiPermission.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BusinessDatesApiFunctionD205F642","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"BusinessDatesApiEndpoint1BEB366F"},"/",{"Ref":"BusinessDatesApiEndpointDeploymentStageprod22A582CC"},"/*/"]]}}}},"ApiPermission.Test.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..":{"id":"ApiPermission.Test.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/ANY/ApiPermission.Test.InfrastructureStackBusinessDatesApiEndpointF334444F.ANY..","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BusinessDatesApiFunctionD205F642","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"BusinessDatesApiEndpoint1BEB366F"},"/test-invoke-stage/*/"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/BusinessDatesApiEndpoint/Default/ANY/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"ANY","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["BusinessDatesApiFunctionD205F642","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Fn::GetAtt":["BusinessDatesApiEndpoint1BEB366F","RootResourceId"]},"restApiId":{"Ref":"BusinessDatesApiEndpoint1BEB366F"}}}}}}}}}},"ApiUrl":{"id":"ApiUrl","path":"InfrastructureStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"InfrastructureStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"InfrastructureStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}},"Condition":{"id":"Condition","path":"InfrastructureStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"InfrastructureStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"InfrastructureStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}